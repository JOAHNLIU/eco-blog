# Eco-Blog

## Опис
Eco-Blog - це платформа, де користувачі можуть розміщувати пости на екологічні теми та обговорювати їх. Блог спрямований на підвищення обізнаності про екологічні проблеми та сприяння екологічному способу життя.

## Ідея
Основна наша мета цього блогу - створити простір для обговорення екологічних питань. Користувачі зможуть:
- Ділитися своїми думками, ідеями та досвідом.
- Обговорювати різні екологічні теми.
- Навчатися новим методам збереження навколишнього середовища.

## Зміст
1. **Вегетаріанські рецепти**: рецепти, що підтримують екологічний спосіб життя.
2. **Екологічні новини та тренди**: останні новини та тренди у світі екології.
3. **Поради з мінімізації відходів**: практичні поради щодо зменшення відходів.
4. **Обговорення екологічних звичок**: місце для обговорення нових звичок та їх впровадження.

## Функціональність
- Реєстрація користувачів.
- Створення та редагування постів.
- Коментування та обговорення постів інших користувачів.
- Функція пошуку постів за ключовими словами.

## Налаштування проекту та інструментів розробки

### Створення пакету
Файл `package.json` ми створили для управління залежностями проекту. Він містить інформацію про проект та перелік залежностей, які необхідні для його роботи.

### Вибір стилю коду
Використали стиль коду Airbnb, забезпечений через ESLint. Це допомагає нам підтримувати єдиний стиль коду у всьому проекті.

### Налаштування форматтера
Prettier використали для автоматичного форматування коду. Це гарантує, що весь код буде відповідати заданим стандартам форматування.

### Налаштування лінтера
ESLint налаштували для перевірки синтаксису та стилю коду. Це допомагає знайти і виправити потенційні помилки ще до запуску коду.

### Налаштування Git-hook
Husky використали для налаштування Git-hook для перевірки форматування, лінтерів та тестів перед коммітом. Це забезпечує дотримання стандартів коду на кожному етапі розробки.

## Структура проекту

### Основні компоненти

#### `api.js`

Цей файл створили для забезпечення взаємодії з віддаленими даними. Містить функції для запитів до API:
- **fetchUsers**: запит для отримання списку користувачів.
- **fetchPosts**: запит для отримання списку постів.
- **fetchComments**: запит для отримання списку коментарів.

#### `components/App.js`

Головний компонент додатку. Імпортує дані з `api.js` та відображає їх. Використовує хуки `useState` та `useEffect` для управління станом і ефектами. Цей компонент відповідає за завантаження даних користувачів, постів та коментарів з API і передачу їх до дочірніх компонентів.

#### `components/Comments.js`

Цей компонент створили для відображення коментарів. Приймає коментарі як пропси та рендерить їх у списку. Використовується для відображення коментарів до конкретного поста.

#### `components/Posts.js`

Цей компонент створили для відображення постів. Приймає пости як пропси та рендерить їх у списку. Використовується для відображення всіх постів, які були створені користувачами.

### Конфігураційні файли

#### `jest.config.js`

Конфігураційний файл для налаштування Jest, тестового фреймворку. Включає налаштування тестового середовища, файли налаштування після запуску середовища та ігнорування певних шляхів:
- **testEnvironment**: Встановлює середовище тестування як 'jest-environment-jsdom', щоб підтримувати тести для React компонентів.
- **setupFilesAfterEnv**: Включає файли налаштування після запуску тестового середовища.
- **transformIgnorePatterns**: Ігнорує певні шляхи під час трансформації файлів.
- **testPathIgnorePatterns**: Виключає тести Cypress.

#### `stryker.conf.js`

Конфігураційний файл для налаштування Stryker, інструменту для мутаційного тестування. Містить налаштування для мутаційного тестування, включаючи тип проекту, конфігураційний файл Jest та плагіни для генерації звітів:
- **mutate**: Включає файли для мутаційного тестування, виключаючи тести та файли Cypress.
- **testRunner**: Встановлює тестовий фреймворк як 'jest'.
- **jest**: Включає налаштування для Jest, включаючи тип проекту та конфігураційний файл.
- **reporters**: Включає плагіни для генерації звітів.
- **packageManager**: Встановлює менеджер пакетів як 'npm'.
- **coverageAnalysis**: Відключає аналіз покриття.
- **thresholds**: Встановлює порогові значення для мутаційного тестування.

#### `server.js`

Сервер на основі Express, який обробляє запити до API. Містить маршрути для отримання постів та коментарів, а також створення нових постів:
- **mongoose.connect**: Підключається до бази даних MongoDB.
- **postSchema**: Схема для постів у базі даних.
- **commentSchema**: Схема для коментарів у базі даних.
- **app.get('/posts')**: Маршрут для отримання всіх постів.
- **app.post('/posts')**: Маршрут для створення нового поста.
- **app.get('/posts/:id/comments')**: Маршрут для отримання всіх коментарів до конкретного поста.
- **app.listen(3000)**: Запускає сервер на порті 3000.

## Команди для запуску

1. **Запуск сервера**:
   ```sh
   npm start
   ```

2. **Закриття портів**:
   ```sh
   npx kill-port 3000
   ```

3. **Запуск тестів за допомогою Jest**:
   ```sh
   npm test
   ```

4. **Запуск мутаційного тестування за допомогою Stryker**:
   ```sh
   npx stryker run
   ```

## Результати тестування

### Результати Jest тестування

Після запуску тестів за допомогою Jest, ось результати:

- **Test Suites**: 18 пройдено
- **Tests**: 20 пройдено

### Результати мутаційного тестування

Після запуску мутаційного тестування за допомогою Stryker, ось результати:

- **Mutant Score**: 75%
- **Killed Mutants**: 75%
- **Survived Mutants**: 25%

### Рекомендації для покращення

- Можна додати нові тести для покриття кодових шляхів, які не були покриті наявними тестами.
- Можна використати звіт Stryker для виявлення слабких місць у наших тестах і вдосконалення їх.

## Автори
Любченко І.М ІА-24
Шкарніков Д.О ІА-23